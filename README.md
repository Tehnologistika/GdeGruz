# GdeGruz

This repository outlines a minimal setup for a Telegram bot built with **Aiogram 3** alongside a **FastAPI** web API. The project demonstrates persistence using **SQLite**, containerization with **Docker** and **docker-compose**, and a GitHub Actions workflow for deployment.

## Project tree

```text
.
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îî‚îÄ‚îÄ api.py
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ map.html
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ bot.conf
‚îú‚îÄ‚îÄ db.py
‚îú‚îÄ‚îÄ deploy.sh
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

## requirements.txt

```text
aiogram==3.0.0
fastapi==0.103.1       # —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å typing-extensions 4.7.*
aiosqlite==0.19.0
python-dotenv==1.0.1
uvicorn==0.29.0
jinja2==3.1.3
```

## Usage

1. `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.
2. –ù–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫—É —Ä–∞–∑ –≤ 24 —á.
3. Live Location –∏–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
4. –ë–æ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç, –µ—Å–ª–∏ –≤–æ–¥–∏—Ç–µ–ª—å –∑–∞–±—ã–ª.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–≠—Ç–∞–ø 2.1)

### üöö –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Å–æ–≤

**–î–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤:**

–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–π—Å–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:
```
/create_trip

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º:
+79991234567
–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞ 1
20.11
–ü–∏—Ç–µ—Ä, –ù–µ–≤—Å–∫–∏–π 100
21.11
50000
```

**–î–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π:**

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ `/start`
2. –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π —Ä–µ–π—Å - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "üìã –ú–æ–π —Ä–µ–π—Å" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–π—Å–∞:**
- –¢–µ–ª–µ—Ñ–æ–Ω –≤–æ–¥–∏—Ç–µ–ª—è
- –ê–¥—Ä–µ—Å–∞ –ø–æ–≥—Ä—É–∑–∫–∏/–≤—ã–≥—Ä—É–∑–∫–∏
- –î–∞—Ç—ã –ø–æ–≥—Ä—É–∑–∫–∏/–≤—ã–≥—Ä—É–∑–∫–∏
- –°—Ç–∞–≤–∫–∞

**Inline-–Ω–∞–≤–∏–≥–∞—Ü–∏—è:**
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ –∫—Ä–∞—Å–∏–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–æ–±–∞–≤–∏—Ç—å –≤ `.env`:
```
CURATOR_IDS=123456789,987654321
```

–ì–¥–µ ID - —ç—Ç–æ Telegram ID –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ (–º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —É @userinfobot).

